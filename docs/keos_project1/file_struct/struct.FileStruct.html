<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The `FileStruct` represents the filesystem state for a specific process, which corresponding to the Linux kernel’s `struct files_struct`."><title>FileStruct in keos_project1::file_struct - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="keos_project1" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (07d246fc6 2025-08-31)" data-channel="nightly" data-search-js="search-449aa9bf.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">FileStruct</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../keos_project1/index.html">keos_<wbr>project1</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">File<wbr>Struct</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#filesystem-state" title="Filesystem State">Filesystem State</a></li></ul><h3><a href="#fields">Fields</a></h3><ul class="block structfield"><li><a href="#structfield.cwd" title="cwd">cwd</a></li><li><a href="#structfield.files" title="files">files</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.close" title="close">close</a></li><li><a href="#method.install_file" title="install_file">install_file</a></li><li><a href="#method.new" title="new">new</a></li><li><a href="#method.open" title="open">open</a></li><li><a href="#method.pipe" title="pipe">pipe</a></li><li><a href="#method.read" title="read">read</a></li><li><a href="#method.seek" title="seek">seek</a></li><li><a href="#method.tell" title="tell">tell</a></li><li><a href="#method.write" title="write">write</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Clone-for-FileStruct" title="Clone">Clone</a></li><li><a href="#impl-Default-for-FileStruct" title="Default">Default</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-RefUnwindSafe-for-FileStruct" title="!RefUnwindSafe">!RefUnwindSafe</a></li><li><a href="#impl-UnwindSafe-for-FileStruct" title="!UnwindSafe">!UnwindSafe</a></li><li><a href="#impl-Freeze-for-FileStruct" title="Freeze">Freeze</a></li><li><a href="#impl-Send-for-FileStruct" title="Send">Send</a></li><li><a href="#impl-Sync-for-FileStruct" title="Sync">Sync</a></li><li><a href="#impl-Unpin-for-FileStruct" title="Unpin">Unpin</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-CloneToUninit-for-T" title="CloneToUninit">CloneToUninit</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-ToOwned-for-T" title="ToOwned">ToOwned</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In keos_<wbr>project1::<wbr>file_<wbr>struct</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">keos_project1</a>::<wbr><a href="index.html">file_struct</a></div><h1>Struct <span class="struct">File<wbr>Struct</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/keos_project1/file_struct.rs.html#333-338">Source</a> </span></div><pre class="rust item-decl"><code>pub struct FileStruct {
    pub cwd: <a class="struct" href="../../keos/fs/struct.Directory.html" title="struct keos::fs::Directory">Directory</a>,
    pub files: BTreeMap&lt;<a class="struct" href="struct.FileDescriptor.html" title="struct keos_project1::file_struct::FileDescriptor">FileDescriptor</a>, <a class="struct" href="struct.File.html" title="struct keos_project1::file_struct::File">File</a>&gt;,
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The <a href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct"><code>FileStruct</code></a> represents the filesystem state for a specific
process, which corresponding to the Linux kernel’s <code>struct files_struct</code>.</p>
<p>This struct encapsulates information about the current state of the
filesystem for the process, including the management of open
files, their positions, and the operations that can be performed on them.
The <a href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct"><code>FileStruct</code></a> is responsible for keeping track of file descriptors and
their associated file states, ensuring that file operations (like
reading, writing, seeking, and closing) are executed correctly and
efficiently.</p>
<p>It also provides a mechanism for the operating system to manage and interact
with files in a multi-process environment, allowing for
process-local filesystem management.</p>
<h2 id="filesystem-state"><a class="doc-anchor" href="#filesystem-state">§</a>Filesystem State</h2>
<p>The filesystem state refers to the set of files currently open for a given
process. This includes managing the file descriptors (unique
identifiers for open files), file positions, and ensuring that resources are
freed once a file is closed.</p>
</div></details><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.cwd" class="structfield section-header"><a href="#structfield.cwd" class="anchor field">§</a><code>cwd: <a class="struct" href="../../keos/fs/struct.Directory.html" title="struct keos::fs::Directory">Directory</a></code></span><div class="docblock"><p>The current working directory of the process.</p>
</div><span id="structfield.files" class="structfield section-header"><a href="#structfield.files" class="anchor field">§</a><code>files: BTreeMap&lt;<a class="struct" href="struct.FileDescriptor.html" title="struct keos_project1::file_struct::FileDescriptor">FileDescriptor</a>, <a class="struct" href="struct.File.html" title="struct keos_project1::file_struct::File">File</a>&gt;</code></span><div class="docblock"><p>The file descriptor table of the process.</p>
</div><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-FileStruct" class="impl"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#346-570">Source</a><a href="#impl-FileStruct" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#357-378">Source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>() -&gt; Self</h4></section></summary><div class="docblock"><p>Creates a new instance of <a href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct"><code>FileStruct</code></a>.</p>
<p>This function initializes a new filesystem state, typically when a
process starts or when a fresh file operation is needed.</p>
<h5 id="returns"><a class="doc-anchor" href="#returns">§</a>Returns</h5>
<p>Returns a new <a href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct"><code>FileStruct</code></a> struct, representing a clean slate for the
filesystem state. The clean state must initialize the STDIN, STDOUT,
STDERR.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.install_file" class="method"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#391-393">Source</a><h4 class="code-header">pub fn <a href="#method.install_file" class="fn">install_file</a>(
    &amp;mut self,
    file: <a class="struct" href="struct.File.html" title="struct keos_project1::file_struct::File">File</a>,
) -&gt; Result&lt;<a class="struct" href="struct.FileDescriptor.html" title="struct keos_project1::file_struct::FileDescriptor">FileDescriptor</a>, <a class="enum" href="../../keos/enum.KernelError.html" title="enum keos::KernelError">KernelError</a>&gt;</h4></section></summary><div class="docblock"><p>Installs a <a href="struct.File.html" title="struct keos_project1::file_struct::File"><code>File</code></a> into the process’s file descriptor table.</p>
<p>This method assigns the lowest available file descriptor number to
<code>file</code> and returns it as a <a href="struct.FileDescriptor.html" title="struct keos_project1::file_struct::FileDescriptor"><code>FileDescriptor</code></a>.
The descriptor can then be used by the process to perform I/O operations
such as <code>read</code>, <code>write</code>, <code>stat</code>, or <code>close</code>.</p>
<h5 id="errors"><a class="doc-anchor" href="#errors">§</a>Errors</h5>
<ul>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.TooManyOpenFile" title="variant keos::KernelError::TooManyOpenFile"><code>KernelError::TooManyOpenFile</code></a> if the process already has
more than <strong>1024 open files</strong>, meaning no additional descriptors are
available.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.open" class="method"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#419-421">Source</a><h4 class="code-header">pub fn <a href="#method.open" class="fn">open</a>(&amp;mut self, abi: &amp;<a class="struct" href="../syscall/struct.SyscallAbi.html" title="struct keos_project1::syscall::SyscallAbi">SyscallAbi</a>&lt;'_&gt;) -&gt; Result&lt;usize, <a class="enum" href="../../keos/enum.KernelError.html" title="enum keos::KernelError">KernelError</a>&gt;</h4></section></summary><div class="docblock"><p>Opens a file.</p>
<p>This function handles the system call for opening a file, including
checking if the file exists, and setting up the file’s access mode
(e.g., read, write, or append). It modifies the <a href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct"><code>FileStruct</code></a> by
associating the file with the current process and prepares the file
for subsequent operations.</p>
<h5 id="errors-1"><a class="doc-anchor" href="#errors-1">§</a>Errors</h5>
<ul>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.InvalidArgument" title="variant keos::KernelError::InvalidArgument"><code>KernelError::InvalidArgument</code></a> if unexpected access mode
is provided.</li>
<li>Propagates any errors from underlying APIs (e.g. <a href="../../keos/syscall/uaccess/index.html" title="mod keos::syscall::uaccess"><code>uaccess</code></a>).</li>
</ul>
<h5 id="syscall-api"><a class="doc-anchor" href="#syscall-api">§</a>Syscall API</h5><div class="example-wrap"><pre class="language-c"><code>int open(const char *pathname, int flags);</code></pre></div>
<ul>
<li><code>pathname</code>: Path to the file to be opened.</li>
<li><code>flags</code>: Specifies the access mode. The possible values are:
<ul>
<li><code>O_RDONLY</code> (0): The file is opened for read only.</li>
<li><code>O_WRONLY</code> (1): The file is opened for write only.</li>
<li><code>O_RDWR</code>   (2): The file is opened for both read and write.</li>
</ul>
</li>
</ul>
<p>Returns the corresponding file descriptor number for the opened file.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.read" class="method"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#445-447">Source</a><h4 class="code-header">pub fn <a href="#method.read" class="fn">read</a>(&amp;mut self, abi: &amp;<a class="struct" href="../syscall/struct.SyscallAbi.html" title="struct keos_project1::syscall::SyscallAbi">SyscallAbi</a>&lt;'_&gt;) -&gt; Result&lt;usize, <a class="enum" href="../../keos/enum.KernelError.html" title="enum keos::KernelError">KernelError</a>&gt;</h4></section></summary><div class="docblock"><p>Reads data from an open file.</p>
<p>This function implements the system call for reading from an open file.
It reads up to a specified number of bytes from the file and returns
them to the user. The current file position is adjusted accordingly.</p>
<h5 id="errors-2"><a class="doc-anchor" href="#errors-2">§</a>Errors</h5>
<ul>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.IsDirectory" title="variant keos::KernelError::IsDirectory"><code>KernelError::IsDirectory</code></a> if the specified file is a directory.</li>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.BrokenPipe" title="variant keos::KernelError::BrokenPipe"><code>KernelError::BrokenPipe</code></a> if the specified file is a disconnected
interprocesscommunication channel.</li>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.BadFileDescriptor" title="variant keos::KernelError::BadFileDescriptor"><code>KernelError::BadFileDescriptor</code></a> if the specified file descriptor is
invalid.</li>
</ul>
<h5 id="syscall-api-1"><a class="doc-anchor" href="#syscall-api-1">§</a>Syscall API</h5><div class="example-wrap"><pre class="language-c"><code>ssize_t read(int fd, void *buf, size_t count);</code></pre></div>
<ul>
<li><code>fd</code>: File descriptor of the file to read from.</li>
<li><code>buf</code>: Buffer to store the data read from the file.</li>
<li><code>count</code>: Number of bytes to read.</li>
</ul>
<p>Returns the actual number of bytes read.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write" class="method"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#472-474">Source</a><h4 class="code-header">pub fn <a href="#method.write" class="fn">write</a>(&amp;mut self, abi: &amp;<a class="struct" href="../syscall/struct.SyscallAbi.html" title="struct keos_project1::syscall::SyscallAbi">SyscallAbi</a>&lt;'_&gt;) -&gt; Result&lt;usize, <a class="enum" href="../../keos/enum.KernelError.html" title="enum keos::KernelError">KernelError</a>&gt;</h4></section></summary><div class="docblock"><p>Writes data to an open file.</p>
<p>This function implements the system call for writing data to a file. It
writes a specified number of bytes to the file, starting from the
current file position. The file’s state is updated accordingly.</p>
<h5 id="errors-3"><a class="doc-anchor" href="#errors-3">§</a>Errors</h5>
<ul>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.IsDirectory" title="variant keos::KernelError::IsDirectory"><code>KernelError::IsDirectory</code></a> if the specified file is a directory.</li>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.BrokenPipe" title="variant keos::KernelError::BrokenPipe"><code>KernelError::BrokenPipe</code></a> if the specified file is a disconnected
interprocesscommunication channel.</li>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.BadFileDescriptor" title="variant keos::KernelError::BadFileDescriptor"><code>KernelError::BadFileDescriptor</code></a> if the specified file descriptor is
invalid.</li>
<li>Propagates any errors from underlying APIs (e.g. <a href="../../keos/syscall/uaccess/index.html" title="mod keos::syscall::uaccess"><code>uaccess</code></a>).</li>
</ul>
<h5 id="syscall-api-2"><a class="doc-anchor" href="#syscall-api-2">§</a>Syscall API</h5><div class="example-wrap"><pre class="language-c"><code>ssize_t write(int fd, const void *buf, size_t count);</code></pre></div>
<ul>
<li><code>fd</code>: File descriptor of the file to write to.</li>
<li><code>buf</code>: Buffer containing the data to be written.</li>
<li><code>count</code>: Number of bytes to write.</li>
</ul>
<p>Returns the number of bytes written</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.seek" class="method"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#504-506">Source</a><h4 class="code-header">pub fn <a href="#method.seek" class="fn">seek</a>(&amp;mut self, abi: &amp;<a class="struct" href="../syscall/struct.SyscallAbi.html" title="struct keos_project1::syscall::SyscallAbi">SyscallAbi</a>&lt;'_&gt;) -&gt; Result&lt;usize, <a class="enum" href="../../keos/enum.KernelError.html" title="enum keos::KernelError">KernelError</a>&gt;</h4></section></summary><div class="docblock"><p>Seeks to a new position in the file.</p>
<p>This function implements the system call for moving the file pointer to
a specified position within the file. The position can be set
relative to the beginning, current position, or end of the file.</p>
<h5 id="errors-4"><a class="doc-anchor" href="#errors-4">§</a>Errors</h5>
<ul>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.InvalidArgument" title="variant keos::KernelError::InvalidArgument"><code>KernelError::InvalidArgument</code></a> if the calculated position is
invalid.</li>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.InvalidArgument" title="variant keos::KernelError::InvalidArgument"><code>KernelError::InvalidArgument</code></a> if the specified file is not a
<a href="enum.FileKind.html#variant.RegularFile" title="variant keos_project1::file_struct::FileKind::RegularFile"><code>FileKind::RegularFile</code></a>.</li>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.BadFileDescriptor" title="variant keos::KernelError::BadFileDescriptor"><code>KernelError::BadFileDescriptor</code></a> if specified file descriptor is
invalid.</li>
<li>Propagates any errors from underlying APIs (e.g. <a href="../../keos/syscall/uaccess/index.html" title="mod keos::syscall::uaccess"><code>uaccess</code></a>).</li>
</ul>
<h5 id="syscall-api-3"><a class="doc-anchor" href="#syscall-api-3">§</a>Syscall API</h5><div class="example-wrap"><pre class="language-c"><code>off_t seek(int fd, off_t offset, int whence);</code></pre></div>
<ul>
<li><code>fd</code>: File descriptor of the file to seek in.</li>
<li><code>offset</code>: Number of bytes to move the file pointer.</li>
<li><code>whence</code>: Specifies how the offset is to be interpreted. Common values
are:
<ul>
<li><code>SEEK_SET</code> (0): The offset is relative to the beginning of the file.</li>
<li><code>SEEK_CUR</code> (1): The offset is relative to the current file position.</li>
<li><code>SEEK_END</code> (2): The offset is relative to the end of the file.</li>
</ul>
</li>
</ul>
<p>Returns the new position of the file descriptor after moving it.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.tell" class="method"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#527-529">Source</a><h4 class="code-header">pub fn <a href="#method.tell" class="fn">tell</a>(&amp;mut self, abi: &amp;<a class="struct" href="../syscall/struct.SyscallAbi.html" title="struct keos_project1::syscall::SyscallAbi">SyscallAbi</a>&lt;'_&gt;) -&gt; Result&lt;usize, <a class="enum" href="../../keos/enum.KernelError.html" title="enum keos::KernelError">KernelError</a>&gt;</h4></section></summary><div class="docblock"><p>Tells the current position in the file.</p>
<p>This function implements the system call for retrieving the current file
pointer position. It allows the program to know where in the file
the next operation will occur.</p>
<h5 id="errors-5"><a class="doc-anchor" href="#errors-5">§</a>Errors</h5>
<ul>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.InvalidArgument" title="variant keos::KernelError::InvalidArgument"><code>KernelError::InvalidArgument</code></a> if the specified file is not a
<a href="enum.FileKind.html#variant.RegularFile" title="variant keos_project1::file_struct::FileKind::RegularFile"><code>FileKind::RegularFile</code></a>.</li>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.BadFileDescriptor" title="variant keos::KernelError::BadFileDescriptor"><code>KernelError::BadFileDescriptor</code></a> if specified file descriptor is
invalid.</li>
</ul>
<h5 id="syscall-api-4"><a class="doc-anchor" href="#syscall-api-4">§</a>Syscall API</h5><div class="example-wrap"><pre class="language-c"><code>off_t tell(int fd);</code></pre></div>
<ul>
<li><code>fd</code>: File descriptor of the file.</li>
</ul>
<p>Returns the position of the file descriptor.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.close" class="method"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#546-548">Source</a><h4 class="code-header">pub fn <a href="#method.close" class="fn">close</a>(&amp;mut self, abi: &amp;<a class="struct" href="../syscall/struct.SyscallAbi.html" title="struct keos_project1::syscall::SyscallAbi">SyscallAbi</a>&lt;'_&gt;) -&gt; Result&lt;usize, <a class="enum" href="../../keos/enum.KernelError.html" title="enum keos::KernelError">KernelError</a>&gt;</h4></section></summary><div class="docblock"><p>Closes an open file.</p>
<p>This function implements the system call for closing an open file.</p>
<h5 id="errors-6"><a class="doc-anchor" href="#errors-6">§</a>Errors</h5>
<ul>
<li>Returns <a href="../../keos/enum.KernelError.html#variant.BadFileDescriptor" title="variant keos::KernelError::BadFileDescriptor"><code>KernelError::BadFileDescriptor</code></a> if specified file descriptor is
invalid.</li>
</ul>
<h5 id="syscall-api-5"><a class="doc-anchor" href="#syscall-api-5">§</a>Syscall API</h5><div class="example-wrap"><pre class="language-c"><code>int close(int fd);</code></pre></div>
<ul>
<li><code>fd</code>: File descriptor to close.</li>
</ul>
<p>Returns 0 if success.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pipe" class="method"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#567-569">Source</a><h4 class="code-header">pub fn <a href="#method.pipe" class="fn">pipe</a>(&amp;mut self, abi: &amp;<a class="struct" href="../syscall/struct.SyscallAbi.html" title="struct keos_project1::syscall::SyscallAbi">SyscallAbi</a>&lt;'_&gt;) -&gt; Result&lt;usize, <a class="enum" href="../../keos/enum.KernelError.html" title="enum keos::KernelError">KernelError</a>&gt;</h4></section></summary><div class="docblock"><p>Creates an interprocess communication channel between two file
descriptors.
Pipes are unidirectional communication channels commonly used for IPC.
Data written to <code>pipefd[1]</code> can be read from <code>pipefd[0]</code>.</p>
<p>A process that read from pipe must wait if there are no bytes to be
read.</p>
<h5 id="syscall-api-6"><a class="doc-anchor" href="#syscall-api-6">§</a>Syscall API</h5><div class="example-wrap"><pre class="language-c"><code>int pipe(int pipefd[2]);</code></pre></div>
<ul>
<li><code>pipefd</code>: An array of two file descriptors, where <code>pipefd[0]</code> is for
reading and <code>pipefd[1]</code> is for writing.</li>
</ul>
<p>Returns 0 if success.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Clone-for-FileStruct" class="impl"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#332">Source</a><a href="#impl-Clone-for-FileStruct" class="anchor">§</a><h3 class="code-header">impl Clone for <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.clone" class="method trait-impl"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#332">Source</a><a href="#method.clone" class="anchor">§</a><h4 class="code-header">fn <a class="fn">clone</a>(&amp;self) -&gt; <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h4></section></summary><div class='docblock'>Returns a duplicate of the value. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.clone_from" class="method trait-impl"><span class="since rightside" title="Stable since Rust version 1.0.0">1.0.0</span><a href="#method.clone_from" class="anchor">§</a><h4 class="code-header">fn <a class="fn">clone_from</a>(&amp;mut self, source: &amp;Self)</h4></section></summary><div class='docblock'>Performs copy-assignment from <code>source</code>. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Default-for-FileStruct" class="impl"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#340-344">Source</a><a href="#impl-Default-for-FileStruct" class="anchor">§</a><h3 class="code-header">impl Default for <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.default" class="method trait-impl"><a class="src rightside" href="../../src/keos_project1/file_struct.rs.html#341-343">Source</a><a href="#method.default" class="anchor">§</a><h4 class="code-header">fn <a class="fn">default</a>() -&gt; Self</h4></section></summary><div class='docblock'>Returns the “default value” for a type. <a>Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-FileStruct" class="impl"><a href="#impl-Freeze-for-FileStruct" class="anchor">§</a><h3 class="code-header">impl Freeze for <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h3></section><section id="impl-RefUnwindSafe-for-FileStruct" class="impl"><a href="#impl-RefUnwindSafe-for-FileStruct" class="anchor">§</a><h3 class="code-header">impl !RefUnwindSafe for <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h3></section><section id="impl-Send-for-FileStruct" class="impl"><a href="#impl-Send-for-FileStruct" class="anchor">§</a><h3 class="code-header">impl Send for <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h3></section><section id="impl-Sync-for-FileStruct" class="impl"><a href="#impl-Sync-for-FileStruct" class="anchor">§</a><h3 class="code-header">impl Sync for <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h3></section><section id="impl-Unpin-for-FileStruct" class="impl"><a href="#impl-Unpin-for-FileStruct" class="anchor">§</a><h3 class="code-header">impl Unpin for <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h3></section><section id="impl-UnwindSafe-for-FileStruct" class="impl"><a href="#impl-UnwindSafe-for-FileStruct" class="anchor">§</a><h3 class="code-header">impl !UnwindSafe for <a class="struct" href="struct.FileStruct.html" title="struct keos_project1::file_struct::FileStruct">FileStruct</a></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Any for T<div class="where">where
    T: 'static + ?Sized,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a class="fn">type_id</a>(&amp;self) -&gt; TypeId</h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Borrow&lt;T&gt; for T<div class="where">where
    T: ?Sized,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a class="fn">borrow</a>(&amp;self) -&gt; &amp;T</h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; BorrowMut&lt;T&gt; for T<div class="where">where
    T: ?Sized,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a class="fn">borrow_mut</a>(&amp;mut self) -&gt; &amp;mut T</h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-CloneToUninit-for-T" class="impl"><a href="#impl-CloneToUninit-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; CloneToUninit for T<div class="where">where
    T: Clone,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.clone_to_uninit" class="method trait-impl"><a href="#method.clone_to_uninit" class="anchor">§</a><h4 class="code-header">unsafe fn <a class="fn">clone_to_uninit</a>(&amp;self, dest: *mut u8)</h4></section></summary><span class="item-info"><div class="stab unstable"><span class="emoji">🔬</span><span>This is a nightly-only experimental API. (<code>clone_to_uninit</code>)</span></div></span><div class='docblock'>Performs copy-assignment from <code>self</code> to <code>dest</code>. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; From&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; Into&lt;U&gt; for T<div class="where">where
    U: From&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code>[From]&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-ToOwned-for-T" class="impl"><a href="#impl-ToOwned-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; ToOwned for T<div class="where">where
    T: Clone,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Owned" class="associatedtype trait-impl"><a href="#associatedtype.Owned" class="anchor">§</a><h4 class="code-header">type <a class="associatedtype">Owned</a> = T</h4></section></summary><div class='docblock'>The resulting type after obtaining ownership.</div></details><details class="toggle method-toggle" open><summary><section id="method.to_owned" class="method trait-impl"><a href="#method.to_owned" class="anchor">§</a><h4 class="code-header">fn <a class="fn">to_owned</a>(&amp;self) -&gt; T</h4></section></summary><div class='docblock'>Creates owned data from borrowed data, usually by cloning. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.clone_into" class="method trait-impl"><a href="#method.clone_into" class="anchor">§</a><h4 class="code-header">fn <a class="fn">clone_into</a>(&amp;self, target: &amp;mut T)</h4></section></summary><div class='docblock'>Uses borrowed data to replace owned data, usually by cloning. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; TryFrom&lt;U&gt; for T<div class="where">where
    U: Into&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a class="associatedtype">Error</a> = Infallible</h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a class="fn">try_from</a>(value: U) -&gt; Result&lt;T, &lt;T as TryFrom&lt;U&gt;&gt;::Error&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; TryInto&lt;U&gt; for T<div class="where">where
    U: TryFrom&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a class="associatedtype">Error</a> = &lt;U as TryFrom&lt;T&gt;&gt;::Error</h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a class="fn">try_into</a>(self) -&gt; Result&lt;U, &lt;U as TryFrom&lt;T&gt;&gt;::Error&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>