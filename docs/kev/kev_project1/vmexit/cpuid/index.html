<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Cpuid vmexit controller."><title>kev_project1::vmexit::cpuid - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="kev_project1" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (07d246fc6 2025-08-31)" data-channel="nightly" data-search-js="search-449aa9bf.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module cpuid</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../kev_project1/index.html">kev_<wbr>project1</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module cpuid</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#tasks" title="Tasks">Tasks</a></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In kev_<wbr>project1::<wbr>vmexit</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">kev_project1</a>::<wbr><a href="../index.html">vmexit</a></div><h1>Module <span>cpuid</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/kev_project1/vmexit/cpuid.rs.html#1-66">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Cpuid vmexit controller.</p>
<p>The cpuid instruction is a special instruction in x86 processors, used to
obtain information about the processor and its features. When executed, the
instruction returns data in the processor’s registers, including the vendor,
model number, and feature flags.</p>
<p>The cpuid instruction takes one input argument (leaf) in the EAX register,
which determines the type of information to retrieve. Different input values
provide different information. For example, setting EAX to 0 returns a
12-character ASCII string representing the CPU manufacturer ID in EBX, EDX,
and ECX registers, with “GenuineIntel” being the string for Intel
processors.</p>
<p>A guest operating system cannot execute the Cpuid instruction directly,
instead causing a VM exit to the host, which must handle the instruction.
This part aims to emulate the cpuid instruction in the guest by executing
the instruction on the host side. However, not all the result could be
forwarded. For example, when the host executes the Cpuid instruction with
EAX = 1, the result contains the executing core’s CPU ID, not the VCPU ID.
In this case, the result needs to modified to contain the VCPU ID.</p>
<h3 id="tasks"><a class="doc-anchor" href="#tasks">§</a>Tasks</h3>
<p>Implement cpuid controller’s handle method to emulate cpuid instruction.
If the input to the instruction is EAX = 1, you must carefully handle the
cpuid. Because it holds the cpu id of the current logical processor not
virtual cpu id. It may be helpful to understand <a href="/src/abyss/x86_64/intrinsics.rs.html">how to obtain the CPU ID of
the executing core.</a> In addition, you
<strong>MUST</strong> forward the vCPU instruction pointer (rip) to prevent it from
executing the same instructions indefinitely.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Controller.html" title="struct kev_project1::vmexit::cpuid::Controller">Controller</a></dt><dd>Cpuid vmexit controller.</dd></dl></section></div></main></body></html>